@use '../abstracts/mixins' as *;
@use '../base/base' as *;
@use '../abstracts/variables' as *;
@use '../abstracts/functions' as *;
@use '../abstracts/interfaces' as *;

.hero {
	&__section {
		--_line-offset: 1rem;
		--_line-offset-y: 5rem;
		--_line-thickness: 2px;
		--_line-color: hsl(0 0% 100% / 10%);
		--_dot-color: hsl(0 0% 100%);
		@include media(768px) {
			--_line-offset: 40px;
			--_line-offset-y: 75px;
		}
		@include media(992px) {
			--_line-offset: 75px;
			--_line-offset-y: var(--_line-offset);
		}
		@include media(1200px) {
			--_line-offset: 100px;
			--_line-offset-y: 100px;
		}
		position: relative;
		height: 100vh;

		& > * {
			max-height: 100%;
		}

		.swiper-slide-active {
			.hero__title {
				opacity: 1;
				transform: translateY(0);
				transition: transform 0.6s cubic-bezier(0.075, 0.82, 0.165, 1) 0.4s,
					opacity 0.1s linear 0.4s;
			}
		}
	}
	&__slide {
		height: 100vh;

		.df-image-wrapper {
			height: 100%;

			img {
				height: 100%;
				width: 100%;
				object-fit: cover;
			}
		}
	}

	&__text {
		&:before {
			content: '';
			position: absolute;
			pointer-events: none;
			inset: 0;
			z-index: 2;
			background: linear-gradient(180deg, hsl(0 0% 0% / 0%) 45.5%, hsl(0 0% 0% / 50%) 100%),
				linear-gradient(0deg, hsl(0 0% 0% / 20%) 0%, hsl(0 0% 0% / 20%) 100%),
				lightgray 50% / cover no-repeat;
			mix-blend-mode: multiply;
		}
		position: absolute;
		inset: 0;
		width: 100%;
		height: 100%;
		@include media(992px) {
			padding-inline: 1rem;
		}
	}
	&__title {
		position: absolute;
		bottom: calc(var(--_line-offset-y) + 1rem);
		right: var(--_line-offset);
		z-index: 2;
		width: 40%;
		user-select: none;
		transform: translateY(50%);
		@include media(992px) {
			padding-inline: 1rem;
		}
		@include media-x(991px) {
			width: 60%;
		}
		opacity: 0;
		transition: transform 0.6s cubic-bezier(0.075, 0.82, 0.165, 1) 0.2s, opacity 0.1s linear 0.2s;
	}
	&--next {
		right: var(--_line-offset);
	}
	&--prev {
		left: var(--_line-offset);
	}
}
.main-wrapper {
	position: relative;
}
[class*='line-'],
[class*='dot-'] {
	position: absolute;
	background-color: var(--_line-color);
	z-index: 20;
}
[class*='line-'] {
	transition: width 1s ease-out, height 1s ease-out;
}
[class*='dot-'] {
	width: var(--_line-thickness);
	background-color: var(--_dot-color);
	aspect-ratio: 1;
}
.page__graphics {
	[class*='line-'] {
		z-index: -1;
	}
	--_line-offset: var(--offset-x);
	--_line-thickness: 1px;
	--_line-color: hsl(0 0% 100% / 5%);
}

.qlc__lines {
	position: relative;
	--_line-color: hsl(0 0% 100% / 5%);
}
.line {
	&--down {
		top: 0;
		width: var(--_line-thickness);
		height: 100%;
	}
	&--across {
		left: 0;
		height: var(--_line-thickness);
		width: 100%;
	}
}
.line,
.dot {
	&--top {
		top: var(--_line-offset-y);
	}
	&--start {
		left: var(--_line-offset);
	}
	&--end {
		right: var(--_line-offset);
	}
	&--bottom {
		bottom: var(--_line-offset-y);
	}
	&--mid {
		left: calc(1rem + (100% / 3) - 3px);

		@include media-x(768px) {
			left: calc((100% / 2) - (var(--offset-x) / 2));
		}
	}
	&--mid-rev {
		right: calc(1rem + (100% / 3) - 3px);

		@include media-x(768px) {
			right: calc((100% / 2) - (var(--offset-x) / 2));
		}
	}
}

.swiper {
	&--shaded {
		position: relative;
		&.swiper--con {
			&:after {
				left: var(--offset-x);
				width: calc(100% - var(--offset-x) * 2);
			}
		}

		&:hover {
			&:after {
				opacity: 0;
				transition: opacity 0.4s ease-in-out;
			}
		}
		&.no-hover {
			&:hover {
				&:after {
					opacity: 1;
					transition: opacity 0.4s ease-in-out;
				}
			}
		}
		&:after {
			content: '';
			position: absolute;
			inset: 0;
			background: linear-gradient(
				90deg,
				var(--set-body-background-color) -10%,
				transparent 15%,
				transparent 85%,
				var(--set-body-background-color) 100%
			);
			z-index: 1;
			pointer-events: none;
			transition: opacity 0.4s ease-in-out;
		}
		&-left {
			@extend .swiper--shaded;
			&:after {
				background: linear-gradient(
					90deg,
					var(--set-body-background-color) 0%,
					transparent 25%,
					transparent 85%,
					transparent 100%
				);
			}
			&:hover {
				&:hover {
					&:after {
						opacity: 1;
						transition: opacity 0.4s ease-in-out;
					}
				}
			}
		}
		&-right {
			@extend .swiper--shaded;
			&:after {
				background: linear-gradient(
					90deg,
					transparent -10%,
					transparent 15%,
					transparent 85%,
					var(--set-body-background-color) 100%
				);
			}
			&:hover {
				&:hover {
					&:after {
						opacity: 1;
						transition: opacity 0.4s ease-in-out;
					}
				}
			}
		}
	}
	&__numbering {
		position: absolute;
		bottom: calc(var(--_line-offset) + 1rem);
		left: calc(var(--_line-offset) + 1rem);
		z-index: 3;
		user-select: none;
		letter-spacing: 0.1em;
		display: flex;
		align-items: flex-end;
		opacity: 0.5;
		gap: 0.5em;

		.slides {
			&__current {
				font-size: 2.25rem;
				font-weight: 700;
				line-height: 90%;
				opacity: 1;
				letter-spacing: -0.405rem;
				width: 0.75rem;
				text-align: right;
				display: inline-block;
			}
			&__total {
				font-size: 1rem;
				font-weight: 700;
				line-height: 90%;
				letter-spacing: -0.405rem;
				opacity: 0.5;
			}
		}
	}
}
.number {
	display: inline-block;
}
.scroll_down-animation {
	position: absolute;
	bottom: calc(var(--_line-offset) + 2rem);
	right: calc(var(--_line-offset) / 2);

	@media (width<=992px) {
		right: 2rem;
		// bottom: 2rem;
		display: none;
	}

	transform: translateX(50%);
	z-index: 4;
	display: flex;
	flex-direction: column;
	gap: 1rem;
	align-items: center;
	justify-content: center;
	.text {
		font-family: 'Bergen Text';
		font-size: 1rem;
		font-weight: 400;
		line-height: 90%; /* 0.9rem */
		letter-spacing: 0.3rem;
		text-transform: uppercase;
		writing-mode: vertical-lr;
		width: 1rem;
	}
	.mouse {
		position: relative;
		width: 2rem;
		aspect-ratio: 5 / 9;
		border: 2px solid var(--clr-neutral-100);
		border-radius: 100vmax;
		&::before {
			content: '';
			width: 0.5rem;
			aspect-ratio: 1;
			position: absolute;
			top: 20%;
			left: 50%;
			transform: translateX(-50%);
			background-color: var(--clr-neutral-200);
			border-radius: 50%;
			opacity: 1;
			animation: wheel 2s infinite;
			-webkit-animation: wheel 2s infinite;
		}
	}
}

@keyframes wheel {
	to {
		opacity: 0;
		top: 70%;
	}
}

@-webkit-keyframes wheel {
	to {
		opacity: 0;
		top: 70%;
	}
}

.logo {
	&__grid {
		&-title {
			color: hsl(0 0% 100% / 50%);
		}

		&-item {
			width: 100%;
			aspect-ratio: 4 / 3;
			padding: 2rem 2rem;

			@include media(1500px) {
				padding: 4rem 3rem;
			}
			transition: filter 0.5s ease-in-out;

			img {
				width: 100%;
				height: 100%;
				object-fit: contain;
				object-position: center center;
			}

			&:not(:hover) {
				// filter: saturate(0);
				transition: filter 0.5s ease-in-out;
			}
		}
	}
}

.watermark {
	text-shadow: 7px 9px 0px rgba(255, 255, 255, 0.07);
	font-family: 'Bergen Text';
	font-size: 8rem;
	overflow: hidden;
	text-align: right;
	font-weight: 600;
	line-height: 90%;
	opacity: 0.05;
	margin-bottom: 0.5em;
	user-select: none;
	@include media-x(1600px) {
		font-size: 6rem;
	}
	@include media-x(1200px) {
		font-size: 4rem;
	}
}

.service {
	&__section {
		--pagination-active-icon: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='14' viewBox='0 0 18 14' fill='none'%3E%3Cpath d='M17.9706 7.00012H6.65685M6.65685 7.00012L1 1.34326M6.65685 7.00012L1 12.657' stroke='%231CABFB' stroke-width='2'/%3E%3C/svg%3E");
	}
	&__gallery {
		&-wrapper {
			position: relative;
			clip-path: polygon(80% -1%, 101% 15%, 101% 101%, -1% 101%, -1% -1%);
			&:after {
				content: '';
				background: linear-gradient(180deg, hsl(0 0% 0% / 2%) 0%, var(--clr-dark-400) 100%);
				position: absolute;
				inset: 0;
				mix-blend-mode: hard-light;
				z-index: 1;
			}
		}
		&-caption {
			position: absolute;
			bottom: 1rem;
			left: 1rem;
			background-color: hsl(0 0% 100% / 10%);
			backdrop-filter: blur(1rem);
			padding: 0.625rem 1rem calc(0.625rem - 0.15rem);
			z-index: 2;
			border-radius: 100vmax;
			font-size: 0.875rem;
			text-transform: uppercase;
			font-weight: 600;
		}
		&-image {
			position: relative;
			aspect-ratio: 5 / 6;
			width: 100%;
			img {
				position: absolute;
				inset: 0;
				width: 100%;
				height: 100%;
				object-fit: cover;
			}
		}
	}
	&__watermark {
		@extend .watermark;

		@include media-x(991px) {
			line-height: 1em;
			margin-bottom: 0.5rem;
		}
		@include media-x(1600px) {
			font-size: 4rem;
			line-height: 1.2em;
		}
	}
	&__description {
		color: var(--clr-neutral-300);
	}
	&__content {
		@include media-x(767px) {
			padding-inline: 1rem;
		}
	}
	&__footer {
		margin-block-start: 2rem;
	}
	&__slide {
		height: 100%;

		&-image {
			height: 100%;
			width: 100%;
			img {
				height: 100%;
				width: 100%;
				object-fit: cover;
				object-position: center left;
			}
		}
		&-gallery {
			position: relative;

			.btn--glass {
				position: absolute;
				top: 1em;
				z-index: 1;
				right: 1em;
			}
		}
	}
	&__pagination {
		max-width: 100%;
		overflow: hidden;
		@include media-x(991px) {
			padding-block: 3rem 1rem;
			padding-inline: var(--offset-x);
		}
		&-link {
			font-size: 1.5rem;

			@include media-x(991px) {
				font-size: 1.8rem;
			}
			@include media(1600px) {
				font-size: 1.75rem;
			}
			font-weight: 300;
			line-height: normal;
			text-transform: uppercase;
			margin-bottom: 0.5em;
			display: flex;
			align-items: center;
			gap: 0.25em;
			color: var(--clr-neutral-300);
			cursor: pointer;
			transition: transform 0.2s cubic-bezier(0.075, 0.82, 0.165, 1);
			margin-inline-start: -1.5em;

			&:before {
				content: '';
				background-image: var(--pagination-active-icon);
				background-position: 50% 25%;
				width: 2rem;
				display: block;
				aspect-ratio: 1;
				background-size: 75%;
				background-repeat: no-repeat;
				transform: translateX(-100%);
				opacity: 0;
				transition: transform 0.6s cubic-bezier(0.075, 0.82, 0.165, 1), opacity 0.1s linear;
			}

			&:hover {
				color: var(--clr-neutral-200);
			}

			&.swiper-pagination-bullet-active {
				color: var(--clr-neutral-100);
				transform: translateX(calc(2rem + 0.25em));
				transition: transform 0.5s cubic-bezier(0.075, 0.82, 0.165, 1);
				font-weight: 400;

				&:before {
					transform: translateX(0%);
					opacity: 1;
					transition: transform 0.3s cubic-bezier(0.075, 0.82, 0.165, 1), opacity 0.45s linear;
				}
			}
		}
		&--inner {
			.service__pagination-link {
				margin-inline-start: -2.5rem;
			}
		}
	}
	&__watermark {
		transform: translateX(50%);
		opacity: 0;
		transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1), opacity 0.5s ease-out;

		@include media-x(767px) {
			display: none;
		}
	}
	&__title {
		transform: translateY(5rem);
		opacity: 0;
		transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1) 0.2s,
			opacity 1s cubic-bezier(0.19, 1, 0.22, 1) 0.3s;
	}
	&__footer {
		opacity: 0;
		transition: opacity 1s cubic-bezier(0.19, 1, 0.22, 1) 0.6s;
	}
	&__description {
		transform: translateY(20%);
		opacity: 0;
		transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1) 0.6s,
			opacity 1s cubic-bezier(0.19, 1, 0.22, 1) 0.6s;
	}
	&__section {
		.swiper-slide-active {
			.service {
				&__watermark {
					transform: translateX(0);
					opacity: 0.05;
					transition: transform 1s cubic-bezier(0.19, 1, 0.22, 1),
						opacity 1s cubic-bezier(0.19, 1, 0.22, 1) 0.3s;
				}
				&__title {
					transform: translateY(0);
					opacity: 1;
					transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1) 0.5s,
						opacity 1s cubic-bezier(0.19, 1, 0.22, 1) 0.6s;
				}
				&__description {
					transform: translateY(0);
					opacity: 1;
					transition: transform 0.7s cubic-bezier(0.19, 1, 0.22, 1) 0.5s,
						opacity 1s cubic-bezier(0.19, 1, 0.22, 1) 0.6s;
				}
				&__footer {
					opacity: 1;
					transition: opacity 1.5s cubic-bezier(0.19, 1, 0.22, 1) 1s;
				}
			}
		}
	}
	&__projects {
		--polygon: polygon(-1% 3.25rem, -1% 101%, 101% 101%, 101% -1%, 3.25rem -1%);

		@media (width>992px) and (width< 1500px){
			--polygon: polygon(-1% 25%, -1% 101%, 101% 101%, 101% -1%, 17% -1%);

		}
		&-image {
			aspect-ratio: 16 / 9;
			position: relative;
			clip-path: var(--polygon);
			&:after {
				content: '';
				position: absolute;
				inset: 0;
				background: linear-gradient(180deg, hsl(0 0% 0% / 20%), hsl(0 0% 0% / 100%));
				opacity: 0.6;
				z-index: 1;
				transition: opacity 0.2s cubic-bezier(0.445, 0.05, 0.55, 0.95);
			}

			img {
				width: 100%;
				height: 100%;
				object-fit: cover;
			}
		}
		&-text {
			position: absolute;
			bottom: 1em;
			left: 1em;
			width: 100%;
			height: 100%;
			z-index: 1;
			display: flex;
			align-items: flex-end;
		}
		&-slide {
			position: relative;
			padding: 1px;

			&:before {
				content: '';
				position: absolute;
				inset: 0;
				opacity: 0;
				background: linear-gradient(
					115deg,
					hsl(0 0% 5% / 100%) 0%,
					hsl(0 0% 20% / 100%) 50%,
					hsl(0 0% 20% / 100%) 60%,
					hsl(0 0% 5% / 100%) 75%
				);
				background-size: 120%;
				clip-path: var(--polygon);
				transition: opacity 0.4s ease-out, background-size 0.5s linear;
			}

			&:hover {
				&:before {
					opacity: 1;
					background-size: 100%;
					transition: opacity 0.4s ease-out, background-size 0.5s linear;
				}
				.service__projects {
					&-image {
						&:after {
							opacity: 0.9;
							transition: opacity 0.2s cubic-bezier(0.445, 0.05, 0.55, 0.95);
						}
					}
				}
			}
		}
	}
}

.dim-text {
	color: var(--clr-neutral-300);

	&--darker {
		color: var(--clr-neutral-500);
	}
}

[data-pop] {
	cursor: pointer;
	opacity: 1;
	transition: box-shadow 0.3s cubic-bezier(0.075, 0.82, 0.165, 1), opacity 0.2s ease;
	&:hover {
		opacity: 0.8;
		transition: box-shadow 0.3s cubic-bezier(0.075, 0.82, 0.165, 1), opacity 0.2s ease;
	}
}

.map {
	&__slider {
		aspect-ratio: 4/ 3;
		background-color: hsl(0 0% 10% /100%);
	}
	&__wrapper {
		--pos-x: 0;
		--pos-y: 0;
		position: relative;

		@include media(992px) {
			margin-inline: var(--offset-x);
		}
	}
	&__title {
		position: absolute;
		left: 50%;
		top: 2em;
		transform: translateX(-50%);
		@include media-x(991px) {
			width: 100%;
			top: -4em;
		}
	}
	// &__background {
	// 	img {
	// 		width: 100%;
	// 		aspect-ratio: 16 / 9;
	// 		object-fit: contain;
	// 	}
	// }
	&__element {
		position: absolute;
		left: var(--pos-x);
		top: var(--pos-y);
		transition: opacity 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95), transform 0.5s ease;
		&:not(.active) {
			.map__element-card {
				visibility: hidden;
				opacity: 0;
				transform: translateY(-80%);
				transition: opacity 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95), transform 0.5s ease;
			}
			.map__projects-wrapper {
				visibility: hidden;
				opacity: 0;
				transform: translateY(-3rem);
				transition: opacity 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95), transform 0.5s ease;
			}
		}
		&.active {
			.map__element-pointer {
				scale: 1.4;
				background-color: var(--clr-accent-200);
				box-shadow: 0 0 0 1px var(--clr-dark-400), 0 0 0 1.5px var(--clr-neutral-100);
				transition: scale 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55), background-color 0.3s ease,
					box-shadow cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.1s;
			}
		}
		&-title {
			line-height: 1.2;
		}

		&-card {
			position: absolute;
			left: 0;
			top: 0;
			max-width: 350px;
			width: min(350px, 20vw);
			border-radius: 1.25rem;
			padding: 1.25em;
			border: 1px solid hsl(0 0% 100% / 10%);
			background: hsl(0 0% 0% / 7%);
			box-shadow: 1rem 0.9rem 3rem 0 hsl(0 0% 0% / 25%);
			backdrop-filter: blur(1rem);
			transform: translateY(-110%);
			visibility: visible;
			opacity: 1;
			transition: opacity 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95), transform 0.5s ease;

			@include media-x(991px) {
				width: 350px;
			}

			&--right {
				left: unset;
				right: 0;
			}
		}
		&-wrapper {
			display: flex;
			gap: 0.25rem;
		}
		&-pointer {
			display: block;
			width: 12px;
			height: 12px;
			padding: 0;
			aspect-ratio: 1;
			border-radius: 100%;
			border: none;
			outline: none;
			background-color: white;
			transition: scale 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55), background-color 0.3s ease,
				box-shadow cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.1s;
			.pointer__text {
				display: inline-block;
				visibility: hidden;
				height: 0;
				width: 0;
			}
		}

		&:not(.visible) {
			transform: translateY(20%);
			visibility: hidden;
			opacity: 0;
			transition: opacity 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95), transform 0.5s ease;
		}
	}
	&__projects {
		&-wrapper {
			backdrop-filter: blur(1rem);
			position: absolute;
			top: 120%;
			left: 0;
			width: min(350px, 20vw);
			padding: 1em 1em;
			border-radius: 1.25rem;
			border: 1px solid hsl(0 0% 100% / 10%);
			background-color: hsl(0 0% 0% / 7%);
			box-shadow: 1rem 0.9rem 3rem 0 hsl(0 0% 0% / 25%);
			transition: opacity 0.5s cubic-bezier(0.445, 0.05, 0.55, 0.95), transform 0.5s ease;
			z-index: 5;
			aspect-ratio: 4 / 3;
			@include media-x(991px) {
				width: 350px;
			}
			&--right {
				left: unset;
				right: 0;
			}
			&--top {
				top: unset;
				bottom: calc(var(--top) + 2rem);
			}
			.swiper-slide {
				height: auto;
			}
			.swiper {
				&--next {
					right: -2rem;
				}
				&--prev {
					left: -2rem;
				}
			}
			.map__slider {
				border-radius: 1.25rem;
			}
		}
	}
	&__project {
		&-slide {
			position: relative;
			border-radius: 1.25rem;
			overflow: hidden;
			width: 100%;
			aspect-ratio: 4 / 3;

			@include media-x(768px) {
				aspect-ratio: 4 / 3;
			}
		}
		&-image {
			width: 100%;
			height: 100%;

			img {
				width: 100%;
				height: 100%;
				object-fit: cover;
			}
		}
		&-text {
			position: absolute;
			inset: 0;
			z-index: 1;
			padding: 0.5em 1em;
			display: flex;
			align-items: flex-end;
			h3 {
				margin-bottom: 0;
				text-transform: uppercase;
			}
			background: linear-gradient(0deg, hsl(0 0% 0% / 80%) 0%, hsl(0 0% 0% / 0%) 100%);
		}
	}
	&__section {
		@media (width < 992px) {
			padding-block-start: 7rem;
		}
	}
}

.stats {
	&--one {
		margin-bottom: 1rem;
		@include media(768px) {
			transform: translateY(-80%);
		}
		@include media(992px) {
			transform: translateY(-120%);
		}

		@include media-x(768px) {
			.statistics {
				&__value,
				&__units {
					text-align: right;
				}
			}
		}
	}
	&--two {
		justify-content: flex-end;
		@include media-x(991px) {
			flex-direction: column;
		}
		@include media(992px) {
			flex-direction: column;

		}
	}
}

.flag {
	&__wrapper {
		// @extend %tag;
		padding: 0.35em 0.5em;
		border: 1px solid var(--clr-neutral-100);
		border-radius: 0.625rem;
		display: flex;
		align-items: center;
		gap: 0.25rem;
	}
	&__text {
		display: block;
		height: 100%;
		padding-block-start: 0.15em;
	}
	&__icon {
		display: block;
		aspect-ratio: 1;
		height: 1.25rem;
		img {
			width: 100%;
			height: 100%;
			object-fit: contain;
		}
	}
}

.statistics {
	&__secondary {
		@include media(992px) {
			text-align: right;
		}
	}
	&__description {
		p {
			line-height: 160%;
			font-weight: 300;
		}
	}
	&__value {
		color: var(--clr-neutral-300);
		line-height: 0.9em;
		font-family: $heading-font-stack;
		text-transform: uppercase;
	}
	&__units {
		font-family: $heading-font-stack;
		font-weight: 400;
	}
	&__title {
		font-weight: 500;
		line-height: 120%;
		color: var(--clr-neutral-100);
		@include media(1500px) {
			font-size: 1.5rem;
		}
	}
	&__wrapper {
		@include media-x(991px) {
			margin-bottom: 3rem;
		}
	}
}

.unit {
	&__description {
		text-transform: uppercase;
		font-weight: 300;
	}
	&__main {
		color: var(--clr-accent-300);
	}
}

.pull--up {
	@include media(992px) {
		transform: translateY(-120%);
	}
}

.sustainability {
	&__image {
		@include media(992px) {
			position: absolute;
			inset: 0;
			z-index: 0;
			overflow: hidden;

			.df-image-wrapper {
				height: 100%;
			}
			img {
				width: 100%;
				height: 100%;
				object-fit: cover;
			}
		}
	}
	&__section {
		position: relative;
		box-sizing: border-box;
		background-image: var(--background-image);
		background-size: cover;
		background-repeat: no-repeat;
		background-position: center left;

		@include media-x(991px) {
			background-position: top center;

			.con {
				margin-inline: 0;
				max-width: 100%;

				.row {
					width: 100%;
					margin-inline: 0;
					& > * {
						padding-inline: 0;
					}
				}
			}
		}
	}
}

.glass__wall {
	padding: 3em 2em;
	@include media(1500px) {
		padding: 6rem 6rem 6rem 8rem;
	}
	border: 1px solid rgba(255, 255, 255, 0.2);
	border-bottom: none;
	background: rgba(0, 0, 0, 0.3);
	box-shadow: 1.75rem 1.6rem 2rem 0 hsl(0 0% 0% / 25%),
		-3rem -2rem 8rem 6rem hsl(0 0% 50% / 25%) inset;
	backdrop-filter: blur(2.5rem);

	&-title {
		text-transform: uppercase;
	}
	@include media(768px) {
		&-description {
			max-width: 70%;
		}
	}
	@include media(992px) {
		&-description {
			max-width: 60%;
		}
	}
}

.project {
	&__gallery {
		img {
			aspect-ratio: 1;
			width: 100%;
			object-fit: cover;
		}
	}
	&__card {
		clip-path: polygon(-1% 15%, -1% 101%, 101% 101%, 101% -1%, 20% -1%);
		position: relative;
		height: 100%;
		&:hover {
			.project__image-wrapper {
				&:before {
					background-position: 99% 90%;
					transition: background-position 0.3s cubic-bezier(0.215, 0.61, 0.355, 1);
				}
			}
		}
	}
	&__text-wrapper {
		position: absolute;
		inset: 0;
		height: 100%;
		width: 100%;
		display: flex;
		flex-direction: column;
		align-items: flex-end;
		gap: 0.25rem;
		padding: 1em;

		@include media(768px) {
			padding: 2em;
		}
	}
	&__image-wrapper {
		position: relative;
		overflow: hidden;

		img {
			width: 100%;
			aspect-ratio: 3 / 4;
			object-fit: cover;
		}

		&:before {
			content: '';
			inset: 0;
			position: absolute;
			pointer-events: none;
			width: 100%;
			height: 100%;

			background: linear-gradient(
				180deg,
				hsl(0 0% 5% / 50%) 15%,
				hsl(0 0% 5% / 50%) 0% 42%,
				var(--clr-dark-400) 90%
			);
			background-size: 200% 120%;
			background-position: 99% 70%;
			transition: background-position 0.3s cubic-bezier(0.215, 0.61, 0.355, 1);
		}
	}
}

.text-rtl {
	writing-mode: vertical-lr;
	transform: rotate(180deg);
	white-space: nowrap;
}

.blog {
	&__header {
		@include media(768px) {
			display: grid;
			grid-template-columns: repeat(9, 1fr);
			align-items: self-start;
			justify-content: space-between;
			gap: 1em;
			height: fit-content;

			[class*='tag--'] {
				// grid-column: span 2;
				grid-column-start: 9;
				justify-self: end;
				margin-bottom: 0;
			}
			align-self: start;
			flex-basis: 20%;
		}
	}

	&__title {
		font-family: $text-font-stack;
		line-height: 120%;
		display: -webkit-box;
		-webkit-line-clamp: 2;
		-webkit-box-orient: vertical;
		overflow: hidden;
		margin-bottom: 0;
		grid-column: span 8;
	}
	&__body {
		flex-basis: 100%;
	}
	&__card {
		padding: 1.25rem;
		border-radius: 1.25rem;
		border: 1px solid hsl(0 0% 10% / 100%);
		background-color: hsl(0 0% 7% / 100%);
		box-shadow: 1.1rem 0.9rem 2.2rem 0 hsl(0 0% 0% / 25%);
		transition: 0.2s ease-out;
		height: 100%;
		.anc-full {
			height: 100%;
			width: 100%;
		}

		&:hover {
			background-color: hsl(0 0% 11% / 100%);
			transition: 0.2s ease-out;

			.read-more {
				transform: translateX(-1.25rem);
				transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);

				&:after {
					opacity: 1;
					transform: translate(10%, -50%) rotate(0);
				}
			}
			.blog__image-wrapper {
				img {
					opacity: 0.9;
					transition: 0.2s ease-out;
				}
			}
		}

		.read-more {
			position: relative;
			transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);
			&:after {
				position: absolute;
				left: 105%;
				top: 50%;
				transform: translate(0%, -50%) rotate(0);
			}
			&:hover {
				transform: translateX(-1.25rem);
				transition: transform 0.4s cubic-bezier(0.19, 1, 0.22, 1);

				&:after {
					transform: translate(10%, -50%) rotate(0);
				}
			}
		}
	}

	&__wrapper {
		gap: 1.25rem;
		display: flex;
		align-items: stretch;
		height: 100%;
	}
	&__image {
		width: 40%;
		border-radius: 0.625rem;
		overflow: hidden;

		&-wrapper {
			width: 100%;
			height: 100%;
			background-color: black;

			img {
				width: 100%;
				height: 100%;
				object-fit: cover;
				transition: 0.2s ease-out;
			}
		}
	}
	&__text {
		width: 60%;
		display: flex;
		flex-direction: column;
		gap: 0.5em;
		align-items: flex-end;
	}
	&__description {
		p {
			display: -webkit-box;
			-webkit-line-clamp: 2;
			-webkit-box-orient: vertical;
			overflow: hidden;
			@include media(992) {
				-webkit-line-clamp: 4;
			}
		}
	}
}

.testimonial {
	&__title {
		&,
		p {
			line-height: 120%;
		}
		max-width: 75%;
	}
	&__card {
		padding: 4em;
		border-radius: 1.25rem;
		border: 1px solid hsl(0 0% 100% / 10%);
		background-color: hsl(0 0% 7% / 100%);
		transition: 0.2s ease-out;
		height: 100%;
		display: flex;
		justify-content: space-between;
		backdrop-filter: blur(2rem);
		flex-direction: column;
		box-sizing: border-box;
	}
	&--next {
		right: calc(var(--offset-x) / 2);
	}
	&--prev {
		left: calc(var(--offset-x) / 2);
	}
	&__slide {
		width: auto;
		@include media(992px) {
			width: 50rem;
		}
		@include media(1600px) {
			width: 60rem;
		}
		height: 100%;
		transition: width 0.3s ease-out;
	}
	&__footer {
		display: flex;
		justify-content: flex-end;
	}
	&__main {
		display: flex;
		@include media-x(991px) {
			flex-direction: column-reverse;
		}
	}
	&__image {
		width: 20%;
		@include media-x(991px) {
			width: 30%;
			margin-bottom: 1rem;
		}
		flex-shrink: 0;
	}
	&__text {
		@include media(992px) {
			width: auto;
			padding-inline-end: 3rem;
		}
	}

	&__description {
		transition: 0.4s ease-out;
		margin-top: 0.5em;

		p {
			margin-bottom: 0;
		}
	}
	&__body {
		visibility: visible;
		height: auto;
		overflow: hidden;
		opacity: 1;
		transition: height 1s ease, opacity 1s ease;
	}
	&__slider {
		.swiper-wrapper {
			align-items: center;
			min-height: 60vh;
		}
		.swiper-slide {
			height: auto;
			width: fit-content;
			transition: 0.4s ease-out;

			&:not(.swiper-slide-active) {
				.testimonial__body {
					visibility: hidden;
					height: 0;
					overflow: hidden;
					opacity: 0;
					transition: height 1s ease, opacity 1s ease;
				}
				.testimonial__title {
					font-size: 1.5rem;
				}
			}
		}
	}
	&__logo {
		&-wrapper {
			width: 100%;
			aspect-ratio: 1;
			img {
				width: 100%;
				height: 100%;
				object-position: top left;
				object-fit: contain;
			}
		}
	}
	&__author {
		margin-top: 1rem;
		line-height: 1em;
	}
}

.swiper__container {
	position: relative;
}

.img__centered {
	img {
		display: block;
		margin-inline: auto;
		max-width: 20rem;
	}
}

.gen__content {
	@include media(992px) {
		padding-inline-end: 6em;
	}
	&--larger {
		font-size: 1.15rem;
	}
	h1,
	h2,
	h3,
	h4,
	h5,
	h6 {
		font-weight: 400;
		margin-bottom: 0.5em;
	}
	ul,
	ol,
	table {
		margin-bottom: 2rem;
	}

	li {
		margin-bottom: 0.75em;
		&::marker {
			color: var(--clr-accent-400);
			font-weight: 400;
			font-size: 0.875rem;
		}
	}
	a {
		color: var(--clr-neutral-100);
		text-decoration: underline;
		text-underline-offset: 2px;
		text-decoration-color: var(--clr-accent-300);

		&:hover {
			text-decoration-color: var(--clr-accent-400);
		}
	}
	p,
	li {
		line-height: 180%;
	}
	table {
		border: none !important;
		background-color: hsl(0 0% 100% / 3%);

		td {
			padding: 0.5em 1em !important;
		}
		th {
			padding: 1em 1em 0.35em !important;
			background-color: hsl(0 0% 100% / 10%) !important;
			color: var(--clr-neutral-100);
			font-size: smaller !important;
			font-weight: 500 !important;
		}
	}
}

.about {
	&__hero {
		&-text {
			position: absolute;
			left: 0;
			right: 0;
			top: 2rem;
			z-index: 0;
		}
		&-image {
			position: relative;
			inset: 0;
			&:after {
				position: absolute;
				inset: 0;
				content: '';
				background: linear-gradient(180deg, hsl(0 0% 0% / 0%) 0%, hsl(0 0% 5% / 100%) 85%);
			}
			img {
				width: 100%;
			}
		}
	}
	&__footer {
		@include media-x(768px) {
			margin-bottom: 2rem;
		}
	}
}

.team {
	&__image {
		position: relative;
		--polygon: polygon(
			-1% 3.25rem,
			-1% 101%,
			calc(101% - 3.25rem) 101%,
			101% calc(100% - 3.25rem),
			101% -1%,
			3.25rem -1%
		);
		&:before {
			content: '';
			position: absolute;
			clip-path: var(--polygon);
			width: calc(100% - 3px);
			aspect-ratio: 16 / 9;
			background-image: linear-gradient(180deg, hsl(0 0% 5% / 100%) 0%, #181818 100%);
			bottom: 1px;
			left: 1px;
			right: 0;
			z-index: 1;
		}
		img {
			max-width: 70%;
			margin-inline: auto;
			display: block;
			position: relative;
			z-index: 2;
			margin-bottom: 1px;
		}
		&:after {
			content: '';
			position: absolute;
			clip-path: var(--polygon);
			width: 100%;
			aspect-ratio: 16 / 9;
			opacity: 0.6;
			bottom: 0;
			left: 0;
			right: 0;
			background: linear-gradient(
				60deg,
				hsl(0 0% 5% / 100%) 0%,
				hsl(0 0% 20% / 100%) 50%,
				hsl(0 0% 20% / 100%) 60%,
				hsl(0 0% 5% / 100%) 75%
			);
			background-size: 120%;
			transition: opacity 0.2s cubic-bezier(0.445, 0.05, 0.55, 0.95);
		}
	}
}

.name {
	&__title {
		@extend %heading-font;
	}
}

.address__wrapper {
	h5 {
		line-height: 1.3em;
		margin-bottom: 0.75em;
	}
	&--small {
		h5 {
			line-height: 0.9em;
			margin-bottom: 0.25em;
		}
	}
}

.map {
	&__section {
		iframe {
			width: 100%;
			height: 60vh;
			border: none;
			// filter: grayscale(100%) invert(92%) contrast(83%);
		}
	}
	&__title {
		padding-inline: 3rem;
	}
}

.sustainability {
	&__header-section {
		&:before {
			content: '';
			background-image: var(--icon);
			position: absolute;
			top: 5rem;
			left: 50%;
			transform: translateX(-50%);
			width: 10rem;
			aspect-ratio: 1;
			background-size: contain;
			display: block;
			z-index: 4;
		}
	}
	&__description {
		padding: 2em;

		@include media(1600px) {
			padding: 2.5em 2.5em 2em;
		}

		border-radius: 1.25rem;
		border: 1px solid hsl(0 0% 100% / 10%);
		background: hsl(0 0% 100% / 10%);
		box-shadow: 1.1rem 0.875rem 2.1rem 0 hsl(0 0% 0% /25%);
		backdrop-filter: blur(1.75rem);
	}
}

.container--loading {
	.blog__card {
		position: relative;
		overflow: hidden;
		background-color: #black;
		pointer-events: none;
		& > * {
			position: relative;
			z-index: -1;
		}
		&:after {
			position: absolute;
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			z-index: 2;
			transform: translateX(-100%);
			background-image: linear-gradient(
				90deg,
				rgba(#222, 0) 0,
				rgba(#222, 0.2) 20%,
				rgba(#222, 0.5) 60%,
				rgba(#222, 0)
			);
			animation: shimmer 3s infinite;
			content: '';
		}
	}
}

@keyframes shimmer {
	100% {
		transform: translateX(100%);
	}
}

@include media-x(991px) {
	.py-lg {
		padding-block: 3rem;
	}
}

@include media(992px) {
	.map__section {
		overflow: hidden;
	}

}

//responsive-991
@include media-x(991px) {
	.blog__card {
		padding: 0.75rem;
	}
	.hint__wrapper {
		right: 2rem;
		top: unset;
		width: 25rem;
		bottom: 3rem;
	}
	.service__slide {
		padding-inline-start: var(--offset-x);
	}
	.service__section {
		margin-top: 2rem;
	}
	.project__details-body {
		width: 100%;
	}
	.project__details-footer {
		margin-bottom: 2rem;
	}
	.project__details-gallery {
		.swiper--next {
			right: 0;
		}
		.swiper--prev {
			left: 0;
		}
	}
	.project__header-section {
		margin-top: 2rem;
	}
	.tab-list {
		margin-top: 2rem;
		overflow-x: scroll;
		justify-content: flex-start;
	}
	.blog__header-section.blog--detail-header .blog__header-text {
		padding-block: 1rem;
	}
	.address__wrapper {
		margin-bottom: 2rem;
	}
	.tab-button {
		white-space: nowrap;
	}
	.project__details-section {
		margin-top: 5rem;
	}
	.service__controls {
		flex-wrap: wrap;
	}
	.swiper--fl {
		min-width: unset;
	}
	.service__content {
		padding-inline: 0;
		padding-block: 2rem 1rem;
	}
	.service__projects {
		margin-bottom: 2rem;
		&-header {
			flex-direction: column;
			margin-bottom: 1rem;
		}
	}
	.team__wrapper {
		margin-inline: 0;
	}
	.director__col {
		padding-inline: calc(var(--bs-gutter-x) * 0.5);
	}
	.about__hero-text {
		position: relative;
		top: 2.5rem;
	}
	.about__hero-section {
		margin-top: 7rem;
	}
	.about__description {
		padding-inline-end: 2rem;
	}

	.mobile__map-element-viewer {
		.map__element-card {
			visibility: visible;
			position: static;
			inset: unset;
			transform: unset;
		}
		.map__projects-wrapper {
			visibility: visible;
			position: static;
			inset: unset;
			transform: unset;
			width: 100%;
		}
	}

	.mobile {
		&__element {
			&-wrapper {
				display: flex;
				// flex-direction: column;
				gap: 1rem;
				.swiper__button {
					position: static;
					transform: unset;
				}
			}
			&-text {
				width: 100%;
				padding-block: 1rem;
				.map {
					&__element {
						&-flag {
							width: fit-content;
							font-size: 1rem;
						}
					}
				}
			}
			&-preview {
				position: relative;
				width: 50%;
				.map__slider {
					aspect-ratio: 4 / 3;
					border-radius: 0.625rem;
				}
			}
		}
	}
	.testimonial {
		&__section {
			padding-block-end: 3rem;
			.swiper__button {
				top: 105%;
				transform: translateY(0);
			}
		}
		&__slider {
			.swiper-wrapper {
				min-height: unset;
				align-items: stretch;
			}
			.swiper-slide {
				height: unset;
			}
			.swiper-slide:not(.swiper-slide-active) .testimonial__body {
				visibility: visible;
				height: auto;
			}
		}

		&__slide {
			height: 100%;
		}
		&__card {
			padding: 2em 1.5em;
		}
		&__header {
			flex-direction: column-reverse;
		}
		&__logo-wrapper {
			img {
				object-fit: contain;
				object-position: center center;
			}
		}
		&__title,
		&__description {
			max-width: unset;
		}
	}
}
// responsive-end 991

// responsive 768
@include media-x(768px) {
	.blog {
		&__wrapper {
			flex-direction: column;
		}
		&__image,
		&__text {
			width: 100%;
		}
		&__image {
			&-wrapper {
				aspect-ratio: 4 / 3;
			}
		}
		&__header {
			width: 100%;
			[class*='tag-'] {
				grid-column: span 4;
				align-self: end;
			}
		}
		&__title {
			grid-column: span 5;
		}
	}

	.service__slide {
		padding-inline: var(--offset-x);
	}
	.map__element-card,
	.map__projects-wrapper {
		display: none;
	}
	.hint__wrapper {
		display: none;
	}
	.blog {
		&__header {
			display: flex;
			flex-direction: column-reverse;
			align-items: flex-start;
		}
		&__card {
			padding: 0.5rem;

			.anc-full {
				width: 100%;
				height: 100%;
			}
			[class*='tag-'] {
				align-self: start;
			}
		}
		&__image {
			flex-shrink: 0;
		}
		&__text {
			padding: 0 0.25rem 0.25rem;
			gap: 0;
			flex-grow: 1;
		}
		&__footer {
			margin-bottom: 0.5rem;
		}
	}
}

@media (width>=768px) and (width<992px) {
	.nav__wrapper {
		padding-inline: 3rem;
	}
	.nav--active {
		--nav-height: 75px;
	}
}

.wide__spacing {
	letter-spacing: 0.25rem;
}

.logo__grid-title {
	@include media(768px) {
		font-size: 0.9rem;
	}
}


@include media(1600px){
	.glass__wall-body{
		padding-bottom: 3rem;
	}
}

.map__background img{
	object-fit: contain;
}
.about__slide{
	img{
		aspect-ratio: 1;
		object-fit:cover;
	}
}
